LIBNATIVEHELPER_S { # introduced=S
  global:
    # NDK API for libnativehelper.
    AFileDescriptor_create;
    AFileDescriptor_getFd;
    AFileDescriptor_setFd;

    # JNI Invocation methods available to platform and apps.
    JNI_CreateJavaVM;
    JNI_GetDefaultJavaVMInitArgs;
    JNI_GetCreatedJavaVMs;

    # API for platform and modules only.
    jniGetNioBufferBaseArray; # apex
    jniGetNioBufferBaseArrayOffset; # apex
    jniGetNioBufferPointer; # apex
    jniGetNioBufferFields; # apex

    JniInvocationCreate; # apex
    JniInvocationDestroy; # apex
    JniInvocationInit; # apex
    JniInvocationGetLibrary; # apex

  local:
    *;
};

LIBNATIVEHELPER_PLATFORM { # platform-only
  global:
    jniRegisterNativeMethods;
    jniUninitializeConstants;
    jniLogException;
};
